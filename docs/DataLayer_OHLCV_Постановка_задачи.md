# C1. DataLayer.OHLCV — постановка задачи

Версия: 1.0
Дата: 2025‑10‑15
Назначение: надёжная загрузка, ресемплинг и хранение OHLCV‑рядов. Базовый ТФ 1m, производные ТФ 5m/15m/1h. 
Хранение в колоночном формате Parquet с метаданными, кэшем и идемпотентным догрузом истории. Все времена — UTC.

Входы: API Bybit (кастодиальные ключи read‑only), список тикеров.
Выходы: /data/{symbol}/{tf}.parquet со схемой: ts, o, h, l, c, v (обязательные); опционально t (turnover) и служебные флаги.

NFR: пропуски < 0.01% , валидность таймстампов, задержка обновления ≤ 1 бар.
DoD: юнит‑тесты на ресемплинг/валидацию; интеграция на 5 тикерах ≥1 год; отчёт о пропусках.
Риски: лимиты API, редкие делисты, смещение времени.
